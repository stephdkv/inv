<!DOCTYPE html>
<!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Wed Oct 23 2024 14:35:36 GMT+0000 (Coordinated Universal Time)  -->
<html
  data-wf-page="67190835fb378f6f7e1d5e41"
  data-wf-site="67190834fb378f6f7e1d5d55"
>
  <head>
    <meta charset="utf-8" />
    <title>Поставщики</title>
    {% include 'meta.html' %}
  </head>
  <body>
    <div style="opacity: 0" class="page-wrapper">
      {% include 'sidebar.html' %}
      <div class="dashboard-main-section">
        <div class="sidebar-spacer"></div>
        <div class="dashboard-content">
          <div class="dashboard-main-content">
            <div class="container-default w-container">
              <h1>Поставщики {{ establishment_name }}:</h1>

              <div class="mg-bottom-24px">
                <div class="grid-1-column">
                  <div class="card overflow-hidden">
                    <div class="_2-items-wrap-container pd-32px---28px">
                      <div class="text-300 medium color-neutral-100">
                        Добавить поставщика :
                      </div>
                      <form
                        method="POST"
                        style="
                          display: flex;
                          justify-content: space-between;
                          gap: 20px;
                        "
                      >
                        <input
                          class="input w-password-page w-input1"
                          autofocus="true"
                          maxlength="256"
                          name="supplier"
                          data-name="field"
                          placeholder="Введите название..."
                          type="text"
                          id="pass"
                          required
                          style="display: inline; width: auto; min-height: 30px"
                        />

                        <div
                          data-hover="true"
                          data-delay="0"
                          data-w-id="9cc462d8-bb30-3faf-01e2-89a59eb05ad4"
                          class="mg-sides-0 position-relative---z-index-1 w-dropdown"
                        >
                          <button
                            class="btn-primary small w-inline-block"
                            type="submit"
                          >
                            Добавить
                          </button>
                        </div>
                      </form>
                    </div>
                    {% for supplier in suppliers %}
                    <div
                      style="
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                      "
                    >
                      <div
                        class="text-300 medium color-neutral-100 action-section toggle-button"
                        style="padding: 32px 28px; cursor: pointer"
                        onclick="toggleProducts({{ supplier.id }})"
                      >
                        {{ supplier.name }}
                      </div>
                      <div
                        style="display: flex; gap: 10px; padding-right: 28px"
                      >
                        <form
                          method="POST"
                          action="{{ url_for('add_product_to_supplier', supplier_id=supplier.id) }}"
                          style="
                            display: flex;
                            justify-content: space-between;
                            gap: 20px;
                          "
                        >
                          <div
                            data-hover="true"
                            data-delay="0"
                            data-w-id="9cc462d8-bb30-3faf-01e2-89a59eb05ad4"
                            class="mg-sides-0 position-relative---z-index-1 w-dropdown"
                          >
                            <button
                              class="btn-primary small w-inline-block"
                              type="submit"
                            >
                              Добавить продукт
                            </button>
                          </div>
                        </form>
                        <a
                          href="{{ url_for('edit_supplier', supplier_id=supplier.id) }}"
                          class="btn-primary w-inline-block"
                        >
                          <div class="flex-horizontal gap-column-6px">
                            <div style="font-size: 10px">Изменить</div>
                          </div>
                        </a>
                        <form
                          method="POST"
                          action="{{ url_for('delete_supplier', supplier_id=supplier.id) }}"
                          style="
                            display: flex;
                            justify-content: space-between;
                            gap: 20px;
                          "
                        >
                          <div
                            data-hover="true"
                            data-delay="0"
                            data-w-id="9cc462d8-bb30-3faf-01e2-89a59eb05ad4"
                            class="mg-sides-0 position-relative---z-index-1 w-dropdown"
                          >
                            <button
                              class="btn-primary small w-inline-block"
                              type="submit"
                              onclick="return confirm('Вы уверены, что хотите удалить этого поставщика?')"
                            >
                              Удалить
                            </button>
                          </div>
                        </form>
                      </div>
                    </div>

                    <div
                      class="table-main-container product-table"
                      id="products-{{ supplier.id }}"
                      style="display: none"
                    >
                      <div
                        class="orders-status-table-row table-header"
                        style="grid-template-columns: 2fr 1fr 0.2fr"
                      >
                        <div
                          id="w-node-_81082dec-aeb1-55cb-ca1b-8966496bda6e-496bda6e"
                          class="flex align-center gap-column-6px"
                        >
                          <img
                            src="/static/images/component-settings-icon-dashdark-webflow-template.svg"
                            loading="eager"
                            alt=""
                          />
                          <div class="text-50 semibold color-neutral-100">
                            Название продукта
                          </div>
                        </div>
                        <div
                          id="w-node-_81082dec-aeb1-55cb-ca1b-8966496bda6e-496bda6e"
                          class="flex align-center gap-column-6px"
                        >
                          <img
                            src="/static/images/button-primary-devlink-icon-dashdark-webflow-template.svg"
                            loading="eager"
                            alt=""
                          />
                          <div class="text-50 semibold color-neutral-100">
                            Единица измерения
                          </div>
                        </div>
                        <div
                          id="w-node-_514d0b39-e1cc-0d54-7c60-a69493a1f0b6-ba0dbefb"
                        >
                          <div
                            id="w-node-_81082dec-aeb1-55cb-ca1b-8966496bda6e-496bda6e"
                            class="flex align-center gap-column-6px"
                          >
                            <img
                              src="/static/images/runtime-props-component-icon-dashdark-webflow-template.svg"
                              loading="eager"
                              alt=""
                            />
                            <div class="text-50 semibold color-neutral-100">
                              Действия
                            </div>
                          </div>
                        </div>
                      </div>
                      {% for product in supplier.products %}
                      <div
                        class="orders-status-table-row"
                        style="grid-template-columns: 2fr 1fr 0.2fr"
                      >
                        <div class="paragraph-small color-neutral-100">
                          {{ product.name }}
                        </div>

                        <div class="paragraph-small color-neutral-100">
                          {{ product.measurement.name }}
                        </div>

                        <div
                          id="w-node-ffe664cd-effd-fb9f-b3b2-a2624528346c-4528342e"
                          class="flex align-center gap-column-6px"
                        >
                          <a
                            href="{{ url_for('edit_product_to_supplier', supplier_id=supplier.id) }}"
                            style="text-decoration: none"
                          >
                            <div
                              id="w-node-ffe664cd-effd-fb9f-b3b2-a2624528346d-4528342e"
                              class="dashdark-custom-icon edit-icon"
                            >
                              
                            </div>
                          </a>
                          <form
                            action="{{ url_for('remove_product_from_supplier', supplier_id=supplier.id, product_id=product.id) }}"
                            style="text-decoration: none"
                            method="POST"
                          >
                            <button
                              id="w-node-ffe664cd-effd-fb9f-b3b2-a2624528346d-4528342e"
                              class="dashdark-custom-icon delete-icon-product-supplier"
                            >
                              
                            </button>
                          </form>
                        </div>
                      </div>
                      {% endfor %}
                    </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% include 'footer.html' %}
        </div>
      </div>
    </div>
    <div class="loading-bar-wrapper">
      <div class="loading-bar"></div>
    </div>
    <script>
      function toggleProducts(supplierId) {
        const productsTable = document.getElementById(`products-${supplierId}`);
        if (
          productsTable.style.display === "none" ||
          productsTable.style.display === ""
        ) {
          productsTable.style.display = "block"; // Показываем таблицу
        } else {
          productsTable.style.display = "none"; // Скрываем таблицу
        }
      }
    </script>

    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=67190834fb378f6f7e1d5d55"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="/static/js/webflow.js" type="text/javascript"></script>
  </body>
</html>
